<main *ngIf="!this.addTaskPageService.getAddTaskPage()">
    <div *ngIf="allDataAvailable">
        <div class="search-task mb-3">
            <button class="operations-buttons mr-5">
                <fa-icon class="search-task-icon" (click)="searchTask()" [icon]='faSearch' title="Search Task">
                </fa-icon>
            </button>

            <button class="operations-buttons mr-5" (click)="this.addTaskPageService.toggleAddTaskPage()">
                <fa-icon [icon]='faPlus' title="Add Task">
                </fa-icon>
            </button>
            <button (click)="deleteTasks()" [disabled]="!this.taskSelectedService.appTaskList.length"
                class="operations-buttons mr-5">
                <fa-icon [icon]='faTrash' title="Delete Task">
                </fa-icon>
            </button>
            <button (click)="archiveTasks()" [disabled]="!this.taskSelectedService.appTaskList.length"
                class="operations-buttons mr-5">
                <fa-icon [icon]='faArchive' title="Archive Task">
                </fa-icon>
            </button>

            <button class="operations-buttons float-right" (click)="authenticationService.logout()">
                <fa-icon [icon]='faSignOutAlt' title="Sign Out">
                </fa-icon>
            </button>

            <div class="search-task-body" *ngIf="userTasksService.userTasks != null && searchTaskToggle">
                <app-search-task> </app-search-task>
            </div>            


        </div>        

        <ul class="nav nav-tabs mt-5 border" style="cursor: pointer;">

            <li (click)="changeTab('All')" class="nav-item">
                <a class="nav-link" [ngClass]="{ 'active' : currentTab == 'All' }">
                    All
                </a>
            </li>
            <div *ngFor="let label of userTasksService.userTasksLabelList | keyvalue">
                <li (click)="changeTab(label.key)" class="nav-item">
                    <a class="nav-link" [ngClass]="{ 'active' : currentTab == label.key }">
                        {{label.key}}
                    </a>
                </li>
            </div>
            <li (click)="changeTab('Archive')" class="nav-item">
                <a class="nav-link" [ngClass]="{ 'active' : currentTab == 'Archive' }">
                    Archive
                </a>
            </li>
        </ul>

        <div class="tab-content">
            <div *ngFor="let label of userTasksService.userTasksLabelList | keyvalue">
                <div *ngIf="currentTab == label.key" class="tab-pane fade show active" id="tabContent{{label.key}}">
                    <app-task-list [taskList]="taskList">
                    </app-task-list>
                </div>
            </div>

            <div *ngIf="currentTab == 'All'" class="tab-pane fade show active" id="All">
                <div *ngIf="userTasksService.userTasks != null">
                    <app-task-list [taskList]="taskList">
                    </app-task-list>
                </div>
            </div>

            <div *ngIf="currentTab == 'Archive'" class="tab-pane fade show active" id="Archive">
                <div *ngIf="userTasksService.userTasks != null">
                    <app-task-list [taskList]="taskList">
                    </app-task-list>
                </div>
            </div>

        </div>
    </div>
</main>
<app-add-task *ngIf="this.addTaskPageService.getAddTaskPage()">

</app-add-task>